---
title: Multiple Content Types
parent: Routes
nav_order: 1
---

# Multiple Content Types

Return text, JSON, XML, and YAML from different routes.

> Prerequisites: see [Introduction][Introduction].

## Full source

```powershell
{% include examples/pwsh/2.1-Multiple-Content-Types.ps1 %}
```

## Step-by-step

- The server configuration mirrors Sample 1 (host, listener, runtime, configuration).
- Four routes demonstrate content helpers that set the Content–Type header and serialize for you:
      - [Write-KrTextResponse][Write-KrTextResponse] — writes text/plain
      - [Write-KrJsonResponse][Write-KrJsonResponse] — application/json via JSON serialization
      - [Write-KrXmlResponse][Write-KrXmlResponse] — application/xml via XML serialization
      - [Write-KrYamlResponse][Write-KrYamlResponse] — application/x–yaml via YAML serialization
- Each helper also accepts a -StatusCode parameter.

## Try it

Save the sample locally so it’s easy to run. Copy the contents of
[`docs/_includes/examples/pwsh/2.1-Multiple-Content-Types.ps1`](/_includes/examples/pwsh/2.1-Multiple-Content-Types.ps1)
into a new file in an empty working folder (for example, `content-types.ps1`), then run:

```powershell
# From your working folder
pwsh .\content-types.ps1
curl http://127.0.0.1:5000/hello
curl http://127.0.0.1:5000/hello-json
curl http://127.0.0.1:5000/hello-xml
curl http://127.0.0.1:5000/hello-yaml
```

PowerShell alternatives:

```powershell
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/hello' | Select-Object -ExpandProperty Content
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/hello-json'             # auto-parses JSON
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/hello-xml'  | Select-Object -ExpandProperty Content
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/hello-yaml' | Select-Object -ExpandProperty Content
```

## Cmdlet references

- [Write-KrTextResponse][Write-KrTextResponse]
- [Write-KrJsonResponse][Write-KrJsonResponse]
- [Write-KrXmlResponse][Write-KrXmlResponse]
- [Write-KrYamlResponse][Write-KrYamlResponse]
- [Add-KrMapRoute][Add-KrMapRoute]
- [Start-KrServer][Start-KrServer]

## Troubleshooting

- JSON not parsed by Invoke‑WebRequest: prefer Invoke‑RestMethod for JSON content.
- YAML shown as raw text: that’s expected; PowerShell doesn’t auto‑parse YAML by default.

---

### Next

{: .fs-4 .fw-500}

Continue to [Multi-Language-Routes][Next] or explore more advanced patterns with middleware later in the tutorial.

[Write-KrTextResponse]: /pwsh/cmdlets/Write-KrTextResponse
[Write-KrJsonResponse]: /pwsh/cmdlets/Write-KrJsonResponse
[Write-KrXmlResponse]: /pwsh/cmdlets/Write-KrXmlResponse
[Write-KrYamlResponse]: /pwsh/cmdlets/Write-KrYamlResponse
[Add-KrMapRoute]: /pwsh/cmdlets/Add-KrMapRoute
[Start-KrServer]: /pwsh/cmdlets/Start-KrServer
[Next]: ./2.Multi-Language-Routes
[Introduction]: ../1.introduction/index#prerequisites
