---
title: Multi-language Routes (PS/C#/VB)
parent: Routes
nav_order: 2
---

# Multi-language Routes (PS/C#/VB)

Map routes in PowerShell and implement others inline in C# or VB.NET.

> Prerequisites: see [Introduction][Introduction].

## Full source

File: [`pwsh/tutorial/examples/2.2-Multi-Language-Routes.ps1`][2.2-Multi-Language-Routes.ps1]

```powershell
{% include examples/pwsh/2.2-Multi-Language-Routes.ps1 %}
```

## Step-by-step

1. Initialize root: `Initialize-KrRoot -Path $PSScriptRoot`.
2. Server + listener: `New-KrServer`; `Add-KrEndpoint -Port 5000 -IPAddress Loopback`.
3. PowerShell runtime: `Add-KrPowerShellRuntime` then `Enable-KrConfiguration`.
4. Map the same logical endpoint in multiple languages:
    - PowerShell: GET `/hello` with `-ScriptBlock { Write-KrTextResponse 'Hello from PS' }`.
    - C#: GET `/hello` with `-Language CSharp -Code @" ... @"`; code can access `Context`, `Request`, `Response` and call helpers like [WriteTextResponseAsync][WriteTextResponseAsync].
    - VB.NET: GET `/hello` with `-Language VBNet -Code @" ... @"` following a similar pattern.
5. Start the server: `Start-KrServer`.
6. Route precedence: if multiple routes share the same verb and pattern, the last
    registered typically wins. Use different paths (e.g., `/hello-ps`, `/hello-cs`,
    `/hello-vb`) if you want to hit each explicitly.

## Try it

Save the sample locally so itâ€™s easy to run. Copy the contents of
[`pwsh/tutorial/examples/2.2-Multi-Language-Routes.ps1`][2.2-Multi-Language-Routes.ps1]
into a new file in an empty working folder (for example, `multi-language.ps1`), then run:

```powershell
# From your working folder
pwsh .\multi-language.ps1
curl http://127.0.0.1:5000/hello
```

PowerShell alternative:

```powershell
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/hello' | Select-Object -ExpandProperty Content
```

## Cmdlet references

- [Add-KrMapRoute][Add-KrMapRoute]
- [Add-KrPowerShellRuntime][Add-KrPowerShellRuntime]
- [Enable-KrConfiguration][Enable-KrConfiguration]
- [Start-KrServer][Start-KrServer]
- [Write-KrTextResponse][Write-KrTextResponse]

---

### Next

{: .fs-4 .fw-500}

Continue to [Route Parameters][Next] or explore more advanced patterns with middleware later in the tutorial.

[2.2-Multi-Language-Routes.ps1]: /pwsh/tutorial/examples/2.2-Multi-Language-Routes.ps1
[Add-KrMapRoute]: /pwsh/cmdlets/Add-KrMapRoute
[Add-KrPowerShellRuntime]: /pwsh/cmdlets/Add-KrPowerShellRuntime
[Enable-KrConfiguration]: /pwsh/cmdlets/Enable-KrConfiguration
[Start-KrServer]: /pwsh/cmdlets/Start-KrServer
[Write-KrTextResponse]: /pwsh/cmdlets/Write-KrTextResponse
[WriteTextResponseAsync]: /cs/api/Kestrun.Models/KestrunResponse/WriteTextResponseAsync
[Next]: ./3.Route-Parameters
[Introduction]: ../1.introduction/index#prerequisites
