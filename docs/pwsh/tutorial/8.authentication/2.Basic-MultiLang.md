---
title: Basic (C# / VB.NET)
parent: Authentication
nav_order: 2
---

# Basic Authentication (C# / VB.NET)

Implement credential validation in C# and VB.NET while retaining PowerShell host scripts.

## Full source

File: [`pwsh/tutorial/examples/8.2-Basic-MultiLang.ps1`][8.2-Basic-MultiLang.ps1]

```powershell
{% include examples/pwsh/8.2-Basic-MultiLang.ps1 %}
```

## Step-by-step

1. Create server & listener.
2. Register two Basic schemes (`CSharpBasic`, `VBNetBasic`) via `-Code` and `-CodeLanguage`.
3. Enable configuration.
4. Map separate routes requiring each scheme.
5. Start server.

## Try it

```powershell
$b = 'Basic ' + [Convert]::ToBase64String([Text.Encoding]::ASCII.GetBytes('admin:password'))
Invoke-WebRequest http://127.0.0.1:5000/secure/cs/hello -Headers @{Authorization=$b} | Select -Expand Content
Invoke-WebRequest http://127.0.0.1:5000/secure/vb/hello -Headers @{Authorization=$b} | Select -Expand Content
```

## Cmdlet references

- [Add-KrBasicAuthentication][Add-KrBasicAuthentication]
- [Add-KrMapRoute][Add-KrMapRoute]
- [New-KrServer][New-KrServer]
- [Add-KrListener][Add-KrListener]
- [Add-KrPowerShellRuntime][Add-KrPowerShellRuntime]
- [Enable-KrConfiguration][Enable-KrConfiguration]
- [Start-KrServer][Start-KrServer]

## Troubleshooting

| Symptom           | Cause                       | Fix                                     |
| ----------------- | --------------------------- | --------------------------------------- |
| 401 on VB/C# only | Scheme name mismatch        | Match `-AuthorizationSchema` to `-Name` |
| Code errors       | Syntax issue in inline code | Validate language snippet compiles      |

---

### Next

Continue to [API Key](./3.Api-Key).

[8.2-Basic-MultiLang.ps1]: /pwsh/tutorial/examples/8.2-Basic-MultiLang.ps1
[Add-KrBasicAuthentication]: /pwsh/cmdlets/Add-KrBasicAuthentication
[Add-KrMapRoute]: /pwsh/cmdlets/Add-KrMapRoute
[New-KrServer]: /pwsh/cmdlets/New-KrServer
[Add-KrListener]: /pwsh/cmdlets/Add-KrListener
[Add-KrPowerShellRuntime]: /pwsh/cmdlets/Add-KrPowerShellRuntime
[Enable-KrConfiguration]: /pwsh/cmdlets/Enable-KrConfiguration
[Start-KrServer]: /pwsh/cmdlets/Start-KrServer
