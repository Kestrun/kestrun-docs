---
title: Re-execute
parent: Status Code Pages
nav_order: 7
---

# Re-execute

Re-execute the pipeline using alternate routes to generate friendly error pages while keeping the original URL.

## Full source

File: [`pwsh/tutorial/examples/17.7-StatusCodePages-ReExecute.ps1`][17.7-StatusCodePages-ReExecute.ps1]

```powershell
{% include examples/pwsh/17.7-StatusCodePages-ReExecute.ps1 %}
```

## Step-by-step

1. Logging: Register a console logger.
2. Middleware: Enable with `-PathFormat` and `-QueryFormat`.
3. Pages: Map `/errors/{statusCode}` and render details (status code, original path).
4. Routes: Map `/hello` and demo routes for 404/500/403/401.
5. Start: Apply configuration and start the server.

## Try it

```powershell
curl -v http://127.0.0.1:5000/notfound
curl -v http://127.0.0.1:5000/error
curl -v http://127.0.0.1:5000/forbidden
```

PowerShell equivalents:

```powershell
# Re-execution typically returns the final rendered page with 200 OK
Invoke-WebRequest -Uri http://127.0.0.1:5000/notfound  -SkipHttpErrorCheck | Select-Object StatusCode, Content | Format-List
Invoke-WebRequest -Uri http://127.0.0.1:5000/error     -SkipHttpErrorCheck | Select-Object StatusCode, Content | Format-List
Invoke-WebRequest -Uri http://127.0.0.1:5000/forbidden -SkipHttpErrorCheck | Select-Object StatusCode, Content | Format-List
```

## Troubleshooting

| Symptom | Likely cause | Fix |
|--------|---------------|-----|
| Status remains 404/500 | Expectation mismatch | Re-execute patterns typically render a friendly page with 200 OK |
| Missing original path/code | Query/path formats wrong | Verify `-PathFormat` and `-QueryFormat` placeholders and binding |
| Handler page not reached | Route pattern incorrect | Ensure `/errors/{statusCode}` route exists and returns content |

## References

- [Enable-KrStatusCodePage][Enable-KrStatusCodePage]
- [Write-KrHtmlResponse][Write-KrHtmlResponse]

---

### Previous / Next

Previous: [Redirects](./6.Redirects.md)
Next: [_None_](.)

[17.7-StatusCodePages-ReExecute.ps1]: /pwsh/tutorial/examples/17.7-StatusCodePages-ReExecute.ps1
[Enable-KrStatusCodePage]: /pwsh/cmdlets/Enable-KrStatusCodePage
[Write-KrHtmlResponse]: /pwsh/cmdlets/Write-KrHtmlResponse
