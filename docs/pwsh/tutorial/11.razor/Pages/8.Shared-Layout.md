---
title: Shared Layout
parent: Pages
nav_order: 8
---

# Shared Layout

Provide a consistent site shell (nav + header + footer) used by all pages via `_ViewStart.cshtml`.

## Full source

File: [`pwsh/tutorial/examples/11.1-RazorPages.ps1`][11.1-RazorPages.ps1]

```powershell
{% include examples/pwsh/11.1-RazorPages.ps1 %}
```

File: [`pwsh/tutorial/examples/Assets/Pages/Shared/_Layout.cshtml`][Assets/Pages/Shared/_Layout.cshtml]

```razor
{% include examples/pwsh/Assets/Pages/Shared/_Layout.cshtml %}
```

## Step-by-step

1. Title: Read `ViewData["Title"]` and fall back to a default.
2. Styling: Define minimal CSS for the demo.
3. Navigation: Render links to each sample page.
4. Body: Render the current page with `@RenderBody()`.
5. Footer: Display a simple UTC timestamp.

## Try it

Any page uses this layout (unless it sets `Layout = null`):

```powershell
curl -i http://127.0.0.1:5000/
```

## Troubleshooting

| Symptom | Cause | Fix |
|---------|-------|-----|
| Layout not applied | `_ViewStart.cshtml` not setting `Layout` | Ensure `Assets/Pages/_ViewStart.cshtml` sets `Layout = "Shared/_Layout"` |
| Links donâ€™t work when hosted under a path base | Hard-coded absolute URLs | This layout uses `@Context.Request.PathBase` to prefix links |

## References

- [Add-KrPowerShellRazorPagesRuntime][Add-KrPowerShellRazorPagesRuntime]

---

### Previous / Next

{: .fs-4 .fw-500}

Previous: [Cancel](./7.Cancel)
Next: [ViewStart][Next]

[Assets/Pages/Shared/_Layout.cshtml]: /pwsh/tutorial/examples/Assets/Pages/Shared/_Layout.cshtml
[11.1-RazorPages.ps1]: /pwsh/tutorial/examples/11.1-RazorPages.ps1
[Add-KrPowerShellRazorPagesRuntime]: /pwsh/cmdlets/Add-KrPowerShellRazorPagesRuntime
[Next]: ./9.ViewStart
