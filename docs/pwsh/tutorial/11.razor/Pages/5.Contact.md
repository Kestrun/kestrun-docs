---
title: Contact
parent: Pages
nav_order: 5
---

# Contact

Handle a simple GET/POST form by reading `$Context.Request.Form` in the sibling PowerShell script.

## Full source

File: [`pwsh/tutorial/examples/Assets/Pages/Contact.cshtml`][Assets/Pages/Contact.cshtml]

```razor
{% include examples/pwsh/Assets/Pages/Contact.cshtml %}
```

File: [`pwsh/tutorial/examples/Assets/Pages/Contact.cshtml.ps1`][Assets/Pages/Contact.cshtml.ps1]

```powershell
{% include examples/pwsh/Assets/Pages/Contact.cshtml.ps1 %}
```

## Step-by-step

1. Form view: Render inputs for `name` and `message` when not submitted.
2. POST detection: Check `$Context.Request.Method`.
3. Form parsing: Read `$Context.Request.Form` and extract fields.
4. Validation: Require non-empty `name` and `message`.
5. Model: Set `$Model.Submitted`, `$Model.Name`, `$Model.Message`, and `$Model.Error`.
6. Result view: Render a thank-you screen on success, or an error card on validation failures.

## Try it

```powershell
# GET the form
curl -i http://127.0.0.1:5000/Contact

# POST form fields
curl -i -X POST http://127.0.0.1:5000/Contact \
  -H "Content-Type: application/x-www-form-urlencoded" \
  --data "name=Alice&message=Hello%20from%20curl"
```

## Troubleshooting

| Symptom | Cause | Fix |
|---------|-------|-----|
| POST returns “Failed to read form” | Content-Type missing or body not form encoded | Send `application/x-www-form-urlencoded` and use `--data` |
| Validation errors show | Required fields empty | Provide both `name` and `message` fields |

## References

- [Add-KrPowerShellRazorPagesRuntime][Add-KrPowerShellRazorPagesRuntime]

---

### Previous / Next

{: .fs-4 .fw-500}

Previous: [Quotes](./4.Quotes)
Next: [AppInfo][Next]

[Assets/Pages/Contact.cshtml]: /pwsh/tutorial/examples/Assets/Pages/Contact.cshtml
[Assets/Pages/Contact.cshtml.ps1]: /pwsh/tutorial/examples/Assets/Pages/Contact.cshtml.ps1
[Add-KrPowerShellRazorPagesRuntime]: /pwsh/cmdlets/Add-KrPowerShellRazorPagesRuntime
[Next]: ./6.AppInfo
