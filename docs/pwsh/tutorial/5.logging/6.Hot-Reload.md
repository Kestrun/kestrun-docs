---
title: Hot Reload (Update Logger)
parent: Logging
nav_order: 6
---

# Hot Reload (Update Logger)

Change logging behavior without restarting the server. Two approaches:

- Dynamic minimum level: configure a logger with a dynamic level switch and adjust it at runtime.
- Re-register: create a new configuration and register it under the same name to change sinks/properties/level.

Tip: Using a dynamic level via `Set-KrLoggerLevel -Dynamic <Level>` creates an internal switch you can read/change by logger name with `Get-KrLevelSwitch`/`Set-KrLevelSwitch`.

## Full source

File: [`pwsh/tutorial/examples/5.6-Hot-Reload.ps1`][5.6-Hot-Reload.ps1]

```powershell
{% include examples/pwsh/5.6-Hot-Reload.ps1 %}
```

## Step-by-step

1. Configure a logger with a dynamic minimum level using `Set-KrLoggerLevel -Dynamic Debug`, add sinks (console + file), and register it as `app`.
2. Route `/log` writes events at multiple levels so you can see the current threshold in effect; the
response echoes the level via `Get-KrLevelSwitch -LoggerName 'app'`.
3. Route `/level/{level}` changes the level at runtime (Debug, Information, Warning, Error, Fatal)
using `Set-KrLevelSwitch -LoggerName 'app' -MinimumLevel ...`.
4. Route `/reconfigure` re-registers a new configuration under the same name `app` (adds a
`Reconfigured=true` property and sets minimum to Warning), replacing the prior logger safely.

## Try it

Save the sample locally so itâ€™s easy to run. Copy the contents of
[`pwsh/tutorial/examples/5.6-Hot-Reload.ps1`][5.6-Hot-Reload.ps1] into a new file in an
empty working folder (for example, `hot-reload.ps1`), then run:

Curl examples:

```powershell
curl http://127.0.0.1:5000/log
curl http://127.0.0.1:5000/level/Debug
curl http://127.0.0.1:5000/log
curl -X POST http://127.0.0.1:5000/reconfigure
curl http://127.0.0.1:5000/log
```

Invoke-WebRequest examples:

```powershell
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/log' -Method Get
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/level/Debug' -Method Get
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/log' -Method Get
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/reconfigure' -Method Post
Invoke-RestMethod -Uri 'http://127.0.0.1:5000/log' -Method Get
```

Expected: Debug becomes visible after `/level/Debug`; after `/reconfigure`, only Warning+ are written and the `Reconfigured=true` property appears.

## Notes

- Dynamic level: `Set-KrLoggerLevel -Dynamic <Level>` attaches a per-logger switch that you can later inspect or
change by name using `Get-KrLevelSwitch` / `Set-KrLevelSwitch`.
- Per-sink control: sinks can still have their own level switches if you need different thresholds per sink.
- Re-registering a logger with the same name disposes the previous instance (see LoggerManager).
- To update the Kestrun framework logger, re-register the default logger name or set `-SetAsDefault`.

## Troubleshooting

| Symptom                 | Cause                            | Fix                                                  |
|-------------------------|----------------------------------|------------------------------------------------------|
| Level not changing      | Wrong enum casing/route value    | Use Debug/Information/Warning/Error/Fatal            |
| Still seeing Debug logs | Logger not configured as dynamic | Use `Set-KrLoggerLevel -Dynamic <Level>` initially  |
| No change after POST    | Logger name mismatch             | Re-register/change using the exact same name (`app`) |

## References

- [Get-KrLevelSwitch][Get-KrLevelSwitch]
- [Set-KrLevelSwitch][Set-KrLevelSwitch]
- [New-KrLogger][New-KrLogger]
- [Set-KrLoggerLevel][Set-KrLoggerLevel]
- [Add-KrEnrichProperty][Add-KrEnrichProperty]
- [Add-KrSinkFile][Add-KrSinkFile]
- [Add-KrSinkConsole][Add-KrSinkConsole]
- [Register-KrLogger][Register-KrLogger]
- [Write-KrLog][Write-KrLog]
- [New-KrServer][New-KrServer]
- [Add-KrMapRoute][Add-KrMapRoute]
- [Start-KrServer][Start-KrServer]
- [Close-KrLogger][Close-KrLogger]

---

### Previous / Next

{: .fs-4 .fw-500}

Previous: [Sinks (HTTP/EventLog/Syslog)][Previous]
Next: [Apache Common Access Log][Next]
Guide: [Logging (Concepts)][Guide]

[5.6-Hot-Reload.ps1]: /pwsh/tutorial/examples/5.6-Hot-Reload.ps1
[Get-KrLevelSwitch]: /pwsh/cmdlets/Get-KrLevelSwitch
[Set-KrLevelSwitch]: /pwsh/cmdlets/Set-KrLevelSwitch
[New-KrLogger]: /pwsh/cmdlets/New-KrLogger
[Set-KrLoggerLevel]: /pwsh/cmdlets/Set-KrLoggerLevel
[Add-KrEnrichProperty]: /pwsh/cmdlets/Add-KrEnrichProperty
[Add-KrSinkFile]: /pwsh/cmdlets/Add-KrSinkFile
[Add-KrSinkConsole]: /pwsh/cmdlets/Add-KrSinkConsole
[Register-KrLogger]: /pwsh/cmdlets/Register-KrLogger
[Write-KrLog]: /pwsh/cmdlets/Write-KrLog
[New-KrServer]: /pwsh/cmdlets/New-KrServer
[Add-KrMapRoute]: /pwsh/cmdlets/Add-KrMapRoute
[Start-KrServer]: /pwsh/cmdlets/Start-KrServer
[Close-KrLogger]: /pwsh/cmdlets/Close-KrLogger
[Previous]: ./5.Sinks-Advanced
[Next]: ./7.Apache-Common-Access-Log
[Guide]: /guides/logging
