---
title: Adding a Favicon
parent: Static Routes
nav_order: 4
---

# Adding a Favicon

Add a site icon (`favicon.ico` / PNG) so browsers display your brand in tabs and bookmarks. Kestrun provides
`Add-KrFavicon` to register a favicon quickly without manually mapping a route.

> Prerequisites: see [Introduction][Introduction].

## Full source

File: [`examples/PowerShell/Tutorial/3.4-Add-FavIcon.ps1`][3.4-Add-FavIcon.ps1]

```powershell
<#
    Sample Kestrun Server on how to add a favicon.
    This example demonstrates how to configure a favicon in a Kestrun server.
    FileName: 3.4-Add-FavIcon.ps1
#>

# Import the Kestrun module
Install-PSResource -Name Kestrun

# Initialize Kestrun root directory
Initialize-KrRoot -Path $PSScriptRoot

# Create a new Kestrun server
New-KrServer -Name "Simple Server"

# Listener
Add-KrListener -Port 5000 -IPAddress ([IPAddress]::Loopback)

# File server (root) with directory browsing (optional here) and unknown types for demo
Add-KrFileServer -RequestPath '/' -RootPath '.\Assets\wwwroot' -EnableDirectoryBrowsing -ServeUnknownFileTypes

# Register favicon (PNG or ICO). Provide a relative path (resolved against initialized root).
Add-KrFavicon -IconPath '.\Assets\favicon.png'

# Enable server configuration
Enable-KrConfiguration

# Start asynchronously
Start-KrServer
```

## Step-by-step

1. Base setup matches prior static chapters (root, server, listener, file server).
2. `Add-KrFavicon -IconPath '.\Assets\favicon.png'` registers middleware to serve the icon at standard
   browser request paths (e.g., `/favicon.ico`).
3. Kestrun reads the specified file (PNG or ICO) and returns it with an appropriate `Content-Type`.
4. After enabling configuration, the favicon becomes available immediately to clients.

## Icon file notes

- Preferred traditional location: root-level `/favicon.ico` â€” browsers try this automatically.
- You can supply a PNG; modern browsers accept PNG favicons. Use a square size (16x16, 32x32, 64x64).
- For multi-size support bundle an `.ico` containing multiple resolutions.
- Keep file size small (<10 KB) for quick retrieval.

## Verifying

### Start the server

```powershell
pwsh .\examples\PowerShell\Tutorial\3.4-Add-FavIcon.ps1
```

### Fetch the favicon directly

```powershell
curl -I http://127.0.0.1:5000/favicon.ico
Invoke-WebRequest -Uri 'http://127.0.0.1:5000/favicon.ico' -OutFile .\downloaded-favicon.ico
```

Check response headers for a valid `Content-Type` like `image/x-icon` or `image/png`.

## Integrating with HTML

Add a `<link>` tag in your `index.html` (if not relying on the implicit `/favicon.ico` request):

```html
<link rel="icon" type="image/png" href="/favicon.ico" />
```

Or explicitly reference the PNG if you prefer that path:

```html
<link rel="icon" type="image/png" href="/Assets/favicon.png" />
```

## Troubleshooting

| Symptom                      | Cause                             | Fix                                                           |
|------------------------------|-----------------------------------|---------------------------------------------------------------|
| 404 for favicon.ico          | Wrong `-IconPath` or file missing | Ensure path is correct relative to root; confirm file exists. |
| Browser still shows old icon | Browser cache                     | Hard refresh, open dev tools, or change icon filename.        |
| Incorrect MIME type          | Unusual extension                 | Use `.ico` or `.png` for best compatibility.                  |
| Icon looks blurry            | Low resolution                    | Provide at least 32x32 (or multi-size ICO).                   |

## Cmdlet references

- [Add-KrFavicon][Add-KrFavicon]
- [Add-KrFileServer][Add-KrFileServer]
- [Initialize-KrRoot][Initialize-KrRoot]
- [Add-KrListener][Add-KrListener]
- [New-KrServer][New-KrServer]
- [Enable-KrConfiguration][Enable-KrConfiguration]
- [Start-KrServer][Start-KrServer]

---

### Next

{: .fs-4 .fw-500}

Previous: [Static Route Overrides](./3.Static-Override-Routes)  
Continue to [Variable Routes][Next] or revisit: [Serving Static Files](./1.Static-Routes) | [File Server](./2.File-Server).

[Add-KrFavicon]: /docs/pwsh/cmdlets/Add-KrFavicon
[Add-KrFileServer]: /docs/pwsh/cmdlets/Add-KrFileServer
[Initialize-KrRoot]: /docs/pwsh/cmdlets/Initialize-KrRoot
[Add-KrListener]: /docs/pwsh/cmdlets/Add-KrListener
[New-KrServer]: /docs/pwsh/cmdlets/New-KrServer
[Enable-KrConfiguration]: /docs/pwsh/cmdlets/Enable-KrConfiguration
[Start-KrServer]: /docs/pwsh/cmdlets/Start-KrServer
[Next]: ../4.variable/index
[3.4-Add-FavIcon.ps1]: https://github.com/Kestrun/Kestrun/blob/main/examples/PowerShell/Tutorial/3.4-Add-FavIcon.ps1
[Introduction]: ../1.introduction/index#prerequisites
