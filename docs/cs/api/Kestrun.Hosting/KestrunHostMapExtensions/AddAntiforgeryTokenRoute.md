---
layout: default
title: "KestrunHostMapExtensions.AddAntiforgeryTokenRoute method"
parent: "Kestrun.Hosting"
grand_parent: "C# API"
---
# KestrunHostMapExtensions.AddAntiforgeryTokenRoute method

Adds a GET endpoint that issues the antiforgery cookie and returns a JSON payload: { token: "...", headerName: "X-CSRF-TOKEN" }. The endpoint itself is exempt from antiforgery validation.

```csharp
public static IEndpointConventionBuilder AddAntiforgeryTokenRoute(this KestrunHost host, 
    string pattern = "/csrf-token")
```

| parameter | description |
| --- | --- |
| host | The KestrunHost instance. |
| pattern | The route path to expose (default "/csrf-token"). |

## Return Value

IEndpointConventionBuilder for further configuration.

## See Also

* class [KestrunHost](../KestrunHost)
* class [KestrunHostMapExtensions](../KestrunHostMapExtensions)
* namespace [Kestrun.Hosting](../../Kestrun)

<!-- DO NOT EDIT: generated by xmldo for Kestrun.dll -->
