---
layout: default
title: "KestrunHost.AddProbe method (1 of 3)"
parent: "Kestrun.Hosting"
grand_parent: "C# API"
---
# KestrunHost.AddProbe method (1 of 3)

Registers the provided [`IProbe`](../../Kestrun.Health/IProbe) instance with the host.

```csharp
public KestrunHost AddProbe(IProbe probe)
```

| parameter | description |
| --- | --- |
| probe | The probe to register. |

## Return Value

The current [`KestrunHost`](../KestrunHost) instance.

## See Also

* interface [IProbe](../../Kestrun.Health/IProbe)
* class [KestrunHost](../KestrunHost)
* namespace [Kestrun.Hosting](../../Kestrun)

---

# KestrunHost.AddProbe method (2 of 3)

Registers a delegate-based probe.

```csharp
public KestrunHost AddProbe(string name, string[]? tags, 
    Func<CancellationToken, Task<ProbeResult>> callback)
```

| parameter | description |
| --- | --- |
| name | Probe name. |
| tags | Optional tag list used for filtering. |
| callback | Delegate executed when the probe runs. |

## Return Value

The current [`KestrunHost`](../KestrunHost) instance.

## See Also

* record [ProbeResult](../../Kestrun.Health/ProbeResult)
* class [KestrunHost](../KestrunHost)
* namespace [Kestrun.Hosting](../../Kestrun)

---

# KestrunHost.AddProbe method (3 of 3)

Registers a script-based probe written in any supported language.

```csharp
public KestrunHost AddProbe(string name, string[]? tags, string code, 
    ScriptLanguage? language = default, IReadOnlyDictionary<string, object?>? arguments = null, 
    string[]? extraImports = null, Assembly[]? extraRefs = null)
```

| parameter | description |
| --- | --- |
| name | Probe name. |
| tags | Optional tag list used for filtering. |
| code | Script contents. |
| language | Optional language override. When null, [`Health`](../../Kestrun.Hosting.Options/KestrunOptions/Health) defaults are used. |
| arguments | Optional argument dictionary exposed to the script. |
| extraImports | Optional language-specific imports. |
| extraRefs | Optional additional assembly references. |

## Return Value

The current [`KestrunHost`](../KestrunHost) instance.

## See Also

* enum [ScriptLanguage](../../Kestrun.Scripting/ScriptLanguage)
* class [KestrunHost](../KestrunHost)
* namespace [Kestrun.Hosting](../../Kestrun)

<!-- DO NOT EDIT: generated by xmldo for Kestrun.dll -->
