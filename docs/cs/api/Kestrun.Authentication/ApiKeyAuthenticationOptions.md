---
layout: default
title: "ApiKeyAuthenticationOptions class"
parent: "Kestrun.Authentication"
grand_parent: "C# API"
---
# ApiKeyAuthenticationOptions class

Options for API key authentication, including header names, validation, and claims issuance.

```csharp
public class ApiKeyAuthenticationOptions : AuthenticationSchemeOptions, 
    IAuthenticationCommonOptions, IOpenApiAuthenticationOptions
```

## Public Members

| name | description |
| --- | --- |
| [ApiKeyAuthenticationOptions](ApiKeyAuthenticationOptions/ApiKeyAuthenticationOptions)() | Options for API key authentication, including header names, validation, and claims issuance. |
| [AdditionalHeaderNames](ApiKeyAuthenticationOptions/AdditionalHeaderNames) { get; set; } | Other headers to try if the primary one is missing. |
| [AllowInsecureHttp](ApiKeyAuthenticationOptions/AllowInsecureHttp) { get; set; } | If true, allows API key authentication over insecure HTTP connections. |
| [AllowQueryStringFallback](ApiKeyAuthenticationOptions/AllowQueryStringFallback) { get; set; } | If true, also look for the key in the query string. |
| [ApiKeyName](ApiKeyAuthenticationOptions/ApiKeyName) { get; set; } | Name of to look for the API key. |
| [ChallengeHeaderFormat](ApiKeyAuthenticationOptions/ChallengeHeaderFormat) { get; set; } | Format for the `WWW-Authenticate` header in 401 responses. |
| [ClaimPolicyConfig](ApiKeyAuthenticationOptions/ClaimPolicyConfig) { get; set; } | Gets or sets the claim policy configuration. |
| [Deprecated](ApiKeyAuthenticationOptions/Deprecated) { get; set; } |  |
| [Description](ApiKeyAuthenticationOptions/Description) { get; set; } |  |
| [DisplayName](ApiKeyAuthenticationOptions/DisplayName) { get; set; } |  |
| [DocumentationId](ApiKeyAuthenticationOptions/DocumentationId) { get; set; } |  |
| [EmitChallengeHeader](ApiKeyAuthenticationOptions/EmitChallengeHeader) { get; set; } | If true, includes the `WWW-Authenticate` header in 401 responses. |
| [GlobalScheme](ApiKeyAuthenticationOptions/GlobalScheme) { get; set; } |  |
| [Host](ApiKeyAuthenticationOptions/Host) { get; set; } |  |
| [In](ApiKeyAuthenticationOptions/In) { get; set; } | Location to look for the API key. |
| [IssueClaims](ApiKeyAuthenticationOptions/IssueClaims) { get; set; } | After credentials are valid, this is called to add extra Claims. Parameters: HttpContext, username → IEnumerable of extra claims. |
| [IssueClaimsCodeSettings](ApiKeyAuthenticationOptions/IssueClaimsCodeSettings) { get; set; } | Settings for the claims issuing code, if using a script. |
| [Logger](ApiKeyAuthenticationOptions/Logger) { get; set; } |  |
| [StaticApiKey](ApiKeyAuthenticationOptions/StaticApiKey) { get; set; } | Single expected API key (used if ValidateKey is not set). |
| [StaticApiKeyAsBytes](ApiKeyAuthenticationOptions/StaticApiKeyAsBytes) { get; } | Gets the expected API key as a UTF-8 byte array, or null if [`StaticApiKey`](./ApiKeyAuthenticationOptions/StaticApiKey) is not set. |
| [ValidateCodeSettings](ApiKeyAuthenticationOptions/ValidateCodeSettings) { get; set; } | Settings for the authentication code, if using a script. |
| [ValidateKeyAsync](ApiKeyAuthenticationOptions/ValidateKeyAsync) { get; set; } | Called to validate the raw key string. Return true if valid. |
| [ApplyTo](ApiKeyAuthenticationOptions/ApplyTo)(…) | Helper to copy values from a user-supplied ApiKeyAuthenticationOptions instance to the instance created by the framework inside AddApiKey(). Reassigning the local variable (opts = source) would not work because only the local reference changes – the framework keeps the original instance |

## See Also

* interface [IAuthenticationCommonOptions](./IAuthenticationCommonOptions)
* interface [IOpenApiAuthenticationOptions](./IOpenApiAuthenticationOptions)
* namespace [Kestrun.Authentication](../Kestrun)
* [ApiKeyAuthenticationOptions.cs](https://github.com/Kestrun/Kestrun/tree/main/src/CSharp/Kestrun/Authentication/ApiKeyAuthenticationOptions.cs)

<!-- DO NOT EDIT: generated by xmldo for Kestrun.dll -->
