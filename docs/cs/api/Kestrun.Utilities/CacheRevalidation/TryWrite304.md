---
layout: default
title: "CacheRevalidation.TryWrite304 method"
parent: "Kestrun.Utilities"
grand_parent: "C# API"
---
# CacheRevalidation.TryWrite304 method

Returns true if a 304 Not Modified was written. Otherwise sets validators on the response and returns false. Does NOT write a body on miss; the caller should write the payload/status.

```csharp
public static bool TryWrite304(HttpContext ctx, object? payload, string? etag = null, 
    bool weakETag = false, DateTimeOffset? lastModified = default)
```

| parameter | description |
| --- | --- |
| ctx | The current HTTP context. |
| payload | The response payload, used to derive an ETag if none is provided. Can be a byte[], ReadOnlyMemory&lt;byte&gt;, Memory&lt;byte&gt;, ArraySegment&lt;byte&gt;, Stream, IFormFile, or string. If a string, the charset is derived from the Accept-Charset header (default UTF-8). |
| etag | An optional ETag to use. If not provided, an ETag is derived from the payload if possible. Quotes are optional. |
| weakETag | If true, the provided or derived ETag is marked as weak (prefixed with W/). |
| lastModified | An optional Last-Modified timestamp to use. |

## Return Value

True if a 304 Not Modified was written; otherwise false.

## See Also

* class [CacheRevalidation](../CacheRevalidation)
* namespace [Kestrun.Utilities](../../Kestrun)

<!-- DO NOT EDIT: generated by xmldo for Kestrun.dll -->
